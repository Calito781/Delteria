--<ScriptOptions statementTerminator=";"/>

CREATE TABLE PURCHASE_ORDER (
		ORDER_NUM INTEGER NOT NULL,
		CUSTOMER_ID INTEGER NOT NULL,
		PRODUCT_ID INTEGER NOT NULL,
		QUANTITY SMALLINT,
		SHIPPING_COST DECIMAL(12 , 2),
		SALES_DATE DATE,
		SHIPPING_DATE DATE,
		FREIGHT_COMPANY VARCHAR(30)
	);

CREATE TABLE ITEM (
		ITEM_ID VARCHAR(255) NOT NULL,
		DESCRIPTION VARCHAR(255),
		ICON_FILE VARCHAR(255),
		NAME VARCHAR(255),
		PROPERTIES BLOB(2147483647),
		QUEST_ITEM SMALLINT DEFAULT 0
	);

CREATE TABLE CUSTOMER (
		CUSTOMER_ID INTEGER NOT NULL,
		DISCOUNT_CODE CHAR(1) NOT NULL,
		ZIP VARCHAR(10) NOT NULL,
		NAME VARCHAR(30),
		ADDRESSLINE1 VARCHAR(30),
		ADDRESSLINE2 VARCHAR(30),
		CITY VARCHAR(25),
		STATE CHAR(2),
		PHONE CHAR(12),
		FAX CHAR(12),
		EMAIL VARCHAR(40),
		CREDIT_LIMIT INTEGER
	);

CREATE TABLE FILE (
		FILENAME VARCHAR(255) NOT NULL,
		CONTENT BLOB(2147483647)
	);

CREATE TABLE PRODUCT_CODE (
		PROD_CODE CHAR(2) NOT NULL,
		DISCOUNT_CODE CHAR(1) NOT NULL,
		DESCRIPTION VARCHAR(10)
	);

CREATE TABLE MANUFACTURER (
		MANUFACTURER_ID INTEGER NOT NULL,
		NAME VARCHAR(30),
		ADDRESSLINE1 VARCHAR(30),
		ADDRESSLINE2 VARCHAR(30),
		CITY VARCHAR(25),
		STATE CHAR(2),
		ZIP CHAR(10),
		PHONE VARCHAR(12),
		FAX VARCHAR(12),
		EMAIL VARCHAR(40),
		REP VARCHAR(30)
	);

CREATE TABLE MICRO_MARKET (
		ZIP_CODE VARCHAR(10) NOT NULL,
		RADIUS DOUBLE,
		AREA_LENGTH DOUBLE,
		AREA_WIDTH DOUBLE
	);

CREATE TABLE PRODUCT (
		PRODUCT_ID INTEGER NOT NULL,
		MANUFACTURER_ID INTEGER NOT NULL,
		PRODUCT_CODE CHAR(2) NOT NULL,
		PURCHASE_COST DECIMAL(12 , 2),
		QUANTITY_ON_HAND INTEGER,
		MARKUP DECIMAL(4 , 2),
		AVAILABLE VARCHAR(5),
		DESCRIPTION VARCHAR(50)
	);

CREATE TABLE DISCOUNT_CODE (
		DISCOUNT_CODE CHAR(1) NOT NULL,
		RATE DECIMAL(4 , 2)
	);

CREATE INDEX SQL060728050859440 ON PRODUCT (PRODUCT_CODE ASC);

CREATE INDEX SQL060728050859370 ON PRODUCT (MANUFACTURER_ID ASC);

CREATE UNIQUE INDEX SQL060728050858140 ON CUSTOMER (CUSTOMER_ID ASC);

CREATE UNIQUE INDEX SQL130506203533610 ON ITEM (ITEM_ID ASC);

CREATE UNIQUE INDEX SQL060728050859230 ON PRODUCT (PRODUCT_ID ASC);

CREATE UNIQUE INDEX SQL060728050859160 ON PRODUCT_CODE (PROD_CODE ASC);

CREATE UNIQUE INDEX SQL130506203533560 ON FILE (FILENAME ASC);

CREATE UNIQUE INDEX SQL060728050859050 ON PURCHASE_ORDER (ORDER_NUM ASC);

CREATE UNIQUE INDEX SQL060728050858630 ON DISCOUNT_CODE (DISCOUNT_CODE ASC);

CREATE UNIQUE INDEX SQL060728050858730 ON MANUFACTURER (MANUFACTURER_ID ASC);

CREATE INDEX SQL060728050859660 ON PURCHASE_ORDER (PRODUCT_ID ASC);

CREATE INDEX SQL060728050859490 ON CUSTOMER (DISCOUNT_CODE ASC);

CREATE UNIQUE INDEX SQL060728050858940 ON MICRO_MARKET (ZIP_CODE ASC);

CREATE INDEX SQL060728050859610 ON PURCHASE_ORDER (CUSTOMER_ID ASC);

ALTER TABLE PURCHASE_ORDER ADD CONSTRAINT SQL060728050859050 PRIMARY KEY (ORDER_NUM);

ALTER TABLE ITEM ADD CONSTRAINT SQL130506203533610 PRIMARY KEY (ITEM_ID);

ALTER TABLE CUSTOMER ADD CONSTRAINT SQL060728050858140 PRIMARY KEY (CUSTOMER_ID);

ALTER TABLE PRODUCT_CODE ADD CONSTRAINT SQL060728050859160 PRIMARY KEY (PROD_CODE);

ALTER TABLE PRODUCT ADD CONSTRAINT SQL060728050859230 PRIMARY KEY (PRODUCT_ID);

ALTER TABLE MANUFACTURER ADD CONSTRAINT SQL060728050858730 PRIMARY KEY (MANUFACTURER_ID);

ALTER TABLE MICRO_MARKET ADD CONSTRAINT SQL060728050858940 PRIMARY KEY (ZIP_CODE);

ALTER TABLE DISCOUNT_CODE ADD CONSTRAINT SQL060728050858630 PRIMARY KEY (DISCOUNT_CODE);

ALTER TABLE FILE ADD CONSTRAINT SQL130506203533560 PRIMARY KEY (FILENAME);

ALTER TABLE PURCHASE_ORDER ADD CONSTRAINT FOREIGNKEY_CUSTOMER_ID FOREIGN KEY (CUSTOMER_ID)
	REFERENCES CUSTOMER (CUSTOMER_ID);

ALTER TABLE PURCHASE_ORDER ADD CONSTRAINT FOREIGNKEY_PRODUCT_ID FOREIGN KEY (PRODUCT_ID)
	REFERENCES PRODUCT (PRODUCT_ID);

ALTER TABLE CUSTOMER ADD CONSTRAINT FOREIGNKEY_DISCOUNT_CODE FOREIGN KEY (DISCOUNT_CODE)
	REFERENCES DISCOUNT_CODE (DISCOUNT_CODE);

ALTER TABLE PRODUCT ADD CONSTRAINT FOREIGNKEY_PRODUCT_CODE FOREIGN KEY (PRODUCT_CODE)
	REFERENCES PRODUCT_CODE (PROD_CODE);

ALTER TABLE PRODUCT ADD CONSTRAINT FOREIGNKEY_MANUFACTURER_ID FOREIGN KEY (MANUFACTURER_ID)
	REFERENCES MANUFACTURER (MANUFACTURER_ID);

